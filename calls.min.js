const apiBaseURI="https://r360.successionadvisors.com",publicKey="exlpGzluuIw4FgkMGFg8kR9ouACJgKvf",isSafari=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);window.onload=(()=>{const e=document.getElementById("r360-login-button");if(e){const t=e.getAttribute("data-memberid"),o=e.getAttribute("data-email");e.addEventListener("click",()=>autoLogin(t,o))}});const autoLogin=(e,t)=>{let o=new FormData;o.append("auth_key",publicKey),o.append("member_id",e),o.append("email",t),fetch(`${apiBaseURI}/api/endpoint/user/auth`,{method:"post",redirect:"follow",body:o}).then(e=>e.json()).then(e=>e.result?goToSite(e.secure_key):console.log("failed")).catch(e=>console.log(e))},goToSite=e=>{const t=getUrlString(e);isSafari?redirectSafari(t):redirectAnyBrowser(t)},redirectAnyBrowser=e=>{window.open(e)},redirectSafari=e=>{window.location.assign(e)},getUrlString=e=>`${apiBaseURI}?secure_key=${e}`;