const apiBaseURI="https://r360.successionadvisors.com",publicKey="exlpGzluuIw4FgkMGFg8kR9ouACJgKvf",_=document.querySelectorAll.bind(document),isSafari=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);window.onload=(()=>{const e=_(".r360-login-button");e.length>0&&e.forEach(e=>{e.addEventListener("click",o=>{o.preventDefault();const{memberid:t,email:i}=e.dataset;autoLogin(t,i)})})});const autoLogin=(e,o)=>{let t=new FormData;t.append("auth_key",publicKey),t.append("member_id",e),t.append("email",o),fetch(`${apiBaseURI}/api/endpoint/user/auth`,{method:"post",redirect:"follow",body:t}).then(e=>e.json()).then(e=>e.result?goToSite(e.secure_key):console.log("failed")).catch(e=>console.log(e))},goToSite=e=>{const o=getUrlString(e);isSafari?redirectSafari(o):redirectAnyBrowser(o)},redirectAnyBrowser=e=>{window.open(e)},redirectSafari=e=>{window.location.assign(e)},getUrlString=e=>`${apiBaseURI}?secure_key=${e}`;