function autoLogin(e){let o=new FormData;o.append("auth_key",publicKey),o.append("user_identifier",e),fetch(`${apiBaseURI}/api/endpoint/user/auth`,{method:"post",redirect:"follow",body:o}).then(e=>e.json()).then(e=>e.result?goToSite(e.secure_key):console.log("failed")).catch(e=>console.log(e))}function autoSignUp(e){let o=new FormData;o.append("auth_key",publicKey),o.append("user_identifier",e),fetch(`${apiBaseURI}/api/endpoint/user/create`,{method:"post",redirect:"follow",body:o}).then(e=>e.json()).then(e=>e.result?goToSite(e.secure_key):console.log("failed")).catch(e=>console.log(e))}function goToSite(e){window.open(`${apiBaseURI}?secure_key=${e}`)}const domain=window.location.hostname,apiBaseURI=`${window.location.protocol}//r360.successionadvisors.com`,publicKey="exlpGzluuIw4FgkMGFg8kR9ouACJgKvf";window.onload=(e=>{const o=document.querySelector(".login-button"),t=document.querySelector(".signup-form");if(o){const e=o.getAttribute("data-identifier");o.addEventListener("click",o=>autoLogin(e))}if(t){const e=t.getAttribute("data-identifier");form.addEventListener("submit",o=>autoSignUp(e))}});